Работа без использования string. Динамически выделяющая память под char*buff находится на ветке fstream_no_string
